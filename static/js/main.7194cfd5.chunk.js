(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,n,t){e.exports=t(303)},155:function(e,n,t){},302:function(e,n,t){},303:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),i=t(7),c=t.n(i),o=(t(155),t(137)),l=t(42),s=t(43),u=t(47),h=t(44),f=t(48),d=t(304),m=t(306),p=t(50),g=t.n(p),v=t(74),w=t(8),b=t(305),C=t(307);function E(e){return new Promise(function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}})}var x=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={previewVisible:!1,previewImage:""},t.handleCancel=function(){return t.setState({previewVisible:!1})},t.handlePreview=function(){var e=Object(v.a)(g.a.mark(function e(n){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.url||n.preview){e.next=4;break}return e.next=3,E(n.originFileObj);case 3:n.preview=e.sent;case 4:t.setState({previewImage:n.url||n.preview,previewVisible:!0});case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.handleChange=function(e){var n=e.fileList;return t.props.onListChange({fileList:n})},t}return Object(f.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.state,n=e.previewVisible,t=e.previewImage,r=this.props.fileList,i=a.createElement("div",null,a.createElement(w.a,{type:"plus"}),a.createElement("div",{className:"ant-upload-text"},"Upload"));return a.createElement("div",{className:"clearfix source-holder"},a.createElement(b.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:r,onPreview:this.handlePreview,onChange:this.handleChange},r.length>=1?null:i),a.createElement(C.a,{visible:n,footer:null,onCancel:this.handleCancel},a.createElement("img",{alt:"example",style:{width:"100%"},src:t})))}}]),n}(a.Component),y=t(60),L=t(308);function j(e){return new Promise(function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}})}function O(e){var n=document.createElement("a"),t=function(e){for(var n=e.split(","),t=n[0].match(/:(.*?);/)[1],a=atob(n[1]),r=a.length,i=new Uint8Array(r);r--;)i[r]=a.charCodeAt(r);return new Blob([i],{type:t})}(e.toDataURL({format:"png",multiplier:4})),a=URL.createObjectURL(t);n.download="",n.href=a,n.click(),n.remove()}var k=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).handleDownload=function(){t.genImg()},t.genImg=Object(v.a)(g.a.mark(function e(){var n,a,r,i,c,o,l,s,u,h,f;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.fileList,r=n.qrFileList,i=n.w,c=n.h,o=n.r,l=n.b,0!==a.length&&0!==r.length){e.next=3;break}return e.abrupt("return");case 3:return s=a[0],u=new Image,e.next=7,j(s.originFileObj);case 7:return u.src=e.sent,u.onload=function(){t.$canvas.width=u.width,t.$canvas.height=u.height,t.$ctx.drawImage(u,0,0)},h=r[0],f=new Image,e.next=13,j(h.originFileObj);case 13:f.src=e.sent,f.onload=function(){var e=u.width-i-o,n=u.height-c-l;t.$ctx.drawImage(f,e,n,i,c),O(t.$canvas)};case 15:case"end":return e.stop()}},e)})),t}return Object(f.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.$canvas=document.getElementById("rqqCanvas"),this.$ctx=this.$canvas.getContext("2d")}},{key:"render",value:function(){var e=this,n=this.props,t=n.w,r=n.h,i=n.r,c=n.b;return a.createElement(a.Fragment,null,a.createElement(y.a,{type:"primary",shape:"round",icon:"download",onClick:this.handleDownload},"Download"),a.createElement("canvas",{className:"canvas-holder",id:"rqqCanvas"}),a.createElement("div",null,a.createElement("div",{className:"config-holder"},a.createElement("span",null,"\u4e8c\u7ef4\u7801\u957f\u5ea6"),a.createElement(L.a,{defaultValue:t,min:0,max:1e3,formatter:function(e){return"".concat(e,"px")},parser:function(e){return e.replace("px","")},onChange:function(n){e.props.handleConfigChange("w",n)}})),a.createElement("div",{className:"config-holder"},a.createElement("span",null,"\u4e8c\u7ef4\u7801\u5bbd\u5ea6"),a.createElement(L.a,{defaultValue:r,min:0,max:1e3,formatter:function(e){return"".concat(e,"px")},parser:function(e){return e.replace("px","")},onChange:function(n){e.props.handleConfigChange("h",n)}})),a.createElement("div",{className:"config-holder"},a.createElement("span",null,"\u4e8c\u7ef4\u7801\u5230\u53f3\u4fa7\u7684\u8fb9\u8ddd"),a.createElement(L.a,{defaultValue:i,min:0,max:1e3,formatter:function(e){return"".concat(e,"px")},parser:function(e){return e.replace("px","")},onChange:function(n){e.props.handleConfigChange("r",n)}})),a.createElement("div",{className:"config-holder"},a.createElement("span",null,"\u4e8c\u7ef4\u7801\u5230\u5e95\u90e8\u7684\u8fb9\u8ddd"),a.createElement(L.a,{defaultValue:c,min:0,max:1e3,formatter:function(e){return"".concat(e,"px")},parser:function(e){return e.replace("px","")},onChange:function(n){e.props.handleConfigChange("b",n)}}))))}}]),n}(a.Component),q=d.a.Header,I=d.a.Content,F=d.a.Footer,N=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={fileList:[],qrFileList:[],w:100,h:100,r:10,b:10},t.handleSourceChange=function(e){var n=e.fileList;t.setState({fileList:n})},t.handleImgUrlChange=function(e){var n=e.fileList;t.setState({qrFileList:n})},t.handleConfigChange=function(e,n){console.info(e,n),t.setState(Object(o.a)({},e,n))},t}return Object(f.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.state,n=e.fileList,t=e.qrFileList,r=e.w,i=e.h,c=e.r,o=e.b;return a.createElement(d.a,{className:"rqq-main-holder"},a.createElement(q,{style:{background:"#fff",padding:0}}),a.createElement(I,{style:{margin:"24px 16px 0"}},a.createElement("div",{style:{padding:24,background:"#fff",position:"relative",minHeight:484}},a.createElement(m.a,{title:"\u5f85\u5904\u7406\u56fe\u7247"}),a.createElement(x,{fileList:n,onListChange:this.handleSourceChange}),a.createElement(m.a,{title:"QR code"}),a.createElement(x,{fileList:t,onListChange:this.handleImgUrlChange}),a.createElement("div",{className:"download-holder"},a.createElement(k,{fileList:n,qrFileList:t,w:r,h:i,r:c,b:o,handleConfigChange:this.handleConfigChange})))),a.createElement(F,{style:{textAlign:"center"}}," \xa92019 Created by Rqq"))}}]),n}(a.Component);t(301),t(302);var R=function(){return r.a.createElement(N,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[150,1,2]]]);
//# sourceMappingURL=main.7194cfd5.chunk.js.map